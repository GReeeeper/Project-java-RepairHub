	package metier.models;
	
	import lombok.Data;
	import lombok.NoArgsConstructor;
	
	@Data
	@NoArgsConstructor
	public class Repair {
	
	    public enum Status {
	        PENDING,
	        IN_PROGRESS,
	        COMPLETED
	    }
	
	    private String code;
	    private User assignedRepairer;   // <-- repairer assigned to this repair
	    private double totalCost;
	    private Status status = Status.PENDING;
	
	    public Repair(String code, User assignedRepairer, double totalCost) {
	        this.code = code;
	        this.assignedRepairer = assignedRepairer;
	        this.totalCost = totalCost;
	        this.status = Status.PENDING;
	    }
	
	    // Validate the repair (mark as in progress)
	    public void validate() {
	        if (this.status == Status.PENDING) {
	            this.status = Status.IN_PROGRESS;
	        }
	    }
	
	    // Complete the payment
	    public void completePayment() {
	        if (this.status == Status.IN_PROGRESS) {
	            this.status = Status.COMPLETED;
	        }
	    }
	
	    // Getter for assigned repairer is already generated by Lombok (@Data)
	}
